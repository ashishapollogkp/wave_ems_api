@model attendancemanagment.Models.ResetPassword
@{
    Layout = null;
    ViewBag.Title = "Reset Password";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fincart">
    <meta name="author" content="Fincart">
    <title>@ViewBag.Title</title>
    <link rel="icon" type="image/x-icon" href="@System.Configuration.ConfigurationManager.AppSettings["baseurl"]/Images/favicon.png">
    @Styles.Render("~/Content/hmc")
    @Scripts.Render("~/bundles/modernizr")

    <style>
        .field-validation-error {
            color: #fe6271;
        }

        #background-carousel {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .carousel,
        .carousel-inner {
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .item {
            width: 100%;
            height: 100%;
            background-position: center center;
            background-size: cover;
            z-index: 0;
        }

        #content-wrapper {
            position: absolute;
            z-index: 1 !important;
            min-width: 100%;
            min-height: 100%;
        }

        .well {
            opacity: 0.85;
        }
    </style>
</head>
<body style="background: transparent;">
    <div class="text-center logo-alt-box" style="margin-top: 0;padding-top: 50px;">
        <a href="/" class="logo"><img style="width: 10%;" src="@System.Configuration.ConfigurationManager.AppSettings["baseurl"]/Images/wave-infra.png" /></a>

    </div>
    <div class="wrapper-page">
        <div class="m-t-30 card card-body">
            <div class="text-center">
                <h4 class="text-uppercase font-bold">Reset Password</h4>
            </div>
            <div class="p-2">
                @if (@ViewBag.Message != null)
                {
                    <div class="alert alert-success">
                        @ViewBag.Message
                    </div>
                }

                @using (Html.BeginForm("ResetPassword", "Home", FormMethod.Post, new { @class = "", @id = "form-validation", role = "form" }))
                {
                    // @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="form-group">
                        @Html.TextBoxFor(m => m.employee_id, new { placeholder = Html.DisplayNameFor(m => m.employee_id), @class = "form-control", @id = "validation-empolyee_id" })
                        @Html.ValidationMessageFor(m => m.employee_id, "", new { @class = "" })
                    </div>
                    <div class="form-group">
                        <input type="hidden" name="accesskey" value="hmc//skplcn12345$#//" />
                        <input class="form-control" id="validation-name" name="name" placeholder="Name" type="hidden" value="">
                        <input class="form-control" id="validation-dname" name="dname" placeholder="Name" type="text" value="" disabled>
                        @Html.ValidationMessageFor(m => m.name, "", new { @class = "" })
                    </div>
                    <div class="form-group">
                        <input class="form-control" id="validation-email" onfocus="focusFunction();" name="mobile_no" placeholder="Mobile Number" type="text" value="">

                        @Html.ValidationMessageFor(m => m.mobile_no, "", new { @class = "" })
                    </div>
                    <div class="form-group">
                        <button class="btn btn-custom btn-bordred btn-block waves-effect waves-light text-uppercase" type="submit">Reset Password</button>
                    </div>
                    <div class="form-group m-t-30 m-b-0">
                        <p class="text-muted">Already have account?<a href="@System.Configuration.ConfigurationManager.AppSettings["baseurl"]" class="text-primary m-l-5"><b>Login In</b></a></p>
                    </div>


                }

            </div>
        </div>
        <!-- end card-box -->
    </div>
    <!-- end wrapper page -->

    @Scripts.Render("~/bundles/hmcjs")

    <script>
        function focusFunction() {
            var userId = $("#validation-empolyee_id").val();
            $.ajax({
                type: 'GET',
                url: '@System.Configuration.ConfigurationManager.AppSettings["baseurl"]/Home/GetUserName/',
                contentType: 'application/html; charset=utf-8',
                datatype: 'html',
                data: { id: userId },
                success: function (data) {
                    //$('#validation-name').html('');validation-dname
                    document.getElementById('validation-name').value = '';
                    document.getElementById('validation-dname').value = '';
                    document.getElementById('validation-name').value = data.rsBody;
                    document.getElementById('validation-dname').value = data.rsBody;

                   // $('#validation-name').html(data.rsBody);
                }
            })
        }

    </script>
    <script>
        $('#myCarousel').carousel({
            pause: 'none'
        })

    </script>
</body>
</html>
